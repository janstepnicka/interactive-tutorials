Generators הם מאוד קלים ליישום, אך מעט קשים להבנה.

Generators משמשים ליצירת iterators, אך בגישה שונה. Generators הם פונקציות פשוטות שמחזירות קבוצת אייטמים שניתן לאיטרציה, אחד בכל פעם, בדרך מיוחדת.

כאשר מתחילה איטרציה על קבוצה של אייטמים באמצעות משפט ה-for, ה-generator מופעל. ברגע שקוד הפונקציה של ה-generator מגיע להוראת "yield", ה-generator מחזיר את הביצוע חזרה ללולאת ה-for, מחזיר ערך חדש מהקבוצה. פונקציית ה-generator יכולה לייצר כמה ערכים שמתחשק לה (אולי אינסופיים), ובכך להחזיר כל אחד מהם בתורו.

הנה דוגמה פשוטה לפונקציית generator שמחזירה 7 מספרים אקראיים:

      import random
      
      def lottery():
          # returns 6 numbers between 1 and 40
          for i in range(6):
              yield random.randint(1, 40)
      
          # returns a 7th number between 1 and 15
          yield random.randint(1, 15)
      
      for random_number in lottery():
             print("And the next number is... %d!" %(random_number))

פונקציה זו מחליטה בעצמה כיצד לייצר את המספרים האקראיים, ומבצעת את הוראות ה-yield אחת בכל פעם, עוצרת בין הנפקות כדי להחזיר את הביצוע חזרה ללולאת ה-for הראשית.

תרגיל
--------

כתבו פונקציית generator שמחזירה את סדרת פיבונאצ'י. הם מחושבים באמצעות הנוסחה הבאה: שני המספרים הראשונים בסדרה תמיד שווים ל-1, וכל מספר רציף שיוחזר הוא הסכום של שני המספרים האחרונים. 
רמז: האם תוכלו להשתמש בשני משתנים בלבד בפונקציית ה-generator? זכרו שניתן לבצע השמות בו-זמנית. הקוד

    a = 1
    b = 2
    a, b = b, a
    print(a, b)

יחליף בו-זמנית את הערכים של a ו-b.