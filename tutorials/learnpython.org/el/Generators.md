Οι γεννήτριες είναι πολύ εύκολο να υλοποιηθούν, αλλά κάπως δύσκολο να κατανοηθούν.

Οι γεννήτριες χρησιμοποιούνται για να δημιουργήσουν επαναληπτές, αλλά με διαφορετική προσέγγιση. Οι γεννήτριες είναι απλές συναρτήσεις που επιστρέφουν ένα επαναλαμβανόμενο σύνολο αντικειμένων, ένα τη φορά, με ειδικό τρόπο.

Όταν μια επανάληψη πάνω σε ένα σύνολο αντικειμένων ξεκινά χρησιμοποιώντας την εντολή for, η γεννήτρια εκτελείται. Μόλις ο κώδικας της συνάρτησης της γεννήτριας φτάσει σε μια εντολή "yield", η γεννήτρια διακόπτει την εκτέλεσή της πίσω στο for loop, επιστρέφοντας μια νέα τιμή από το σύνολο. Η συνάρτηση της γεννήτριας μπορεί να παράγει όσες τιμές θέλει (ενδεχομένως απεριόριστες), αποδίδοντάς τις κάθε μία με τη σειρά της.

Εδώ είναι ένα απλό παράδειγμα μιας συνάρτησης γεννήτριας που επιστρέφει 7 τυχαίους ακέραιους αριθμούς:

      import random
      
      def lottery():
          # returns 6 numbers between 1 and 40
          for i in range(6):
              yield random.randint(1, 40)
      
          # returns a 7th number between 1 and 15
          yield random.randint(1, 15)
      
      for random_number in lottery():
             print("And the next number is... %d!" %(random_number))

Αυτή η συνάρτηση αποφασίζει μόνη της πώς να παράγει τους τυχαίους αριθμούς και εκτελεί τις εντολές yield μία ανά φορά, κάνοντας παύση ενδιάμεσα για να επιστρέψει την εκτέλεση στο κύριο for loop.

Άσκηση
--------

Γράψτε μια συνάρτηση γεννήτριας που επιστρέφει τη σειρά Fibonacci. Υπολογίζονται με την παρακάτω φόρμουλα: Οι δύο πρώτοι αριθμοί της σειράς είναι πάντα ίσοι με το 1, και κάθε επόμενος αριθμός που επιστρέφεται είναι το άθροισμα των δύο τελευταίων αριθμών.
Υπόδειξη: Μπορείτε να χρησιμοποιήσετε μόνο δύο μεταβλητές στη συνάρτηση γεννήτριας; Θυμηθείτε ότι οι εκχωρήσεις μπορούν να γίνουν ταυτόχρονα. Ο κώδικας

    a = 1
    b = 2
    a, b = b, a
    print(a, b)

θα ανταλλάξει ταυτόχρονα τις τιμές των a και b.